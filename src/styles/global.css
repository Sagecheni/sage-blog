@import "tailwindcss";
@import "./typography.css";
@import "katex/dist/katex.min.css";

@custom-variant dark (&:where(.dark, .dark *));

/* FONTS */
/* @font-face {
  font-family: "Space Grotesk";
  src: url("/fonts/space-grotesk.woff2") format("woff2");
  font-weight: 300 400 600;
  font-display: swap;
}

@font-face {
  font-family: "IBM Plex Mono";
  src: url("/fonts/ibm-plex-mono.woff2") format("woff2");
  font-weight: 400 500;
  font-display: swap;
} */

/* COLOR SCHEME */
/* P5R THEME COLORS */
.dark {
  /* P5R Dark: Pure Black, White Text, Bold Red Accent */
  --background: #000000;
  --foreground: #ffffff;
  --accent: #D8000C;
}

.light {
  /* P5R Light: White Background, Black Text, Bold Red Accent */
  --background: #ffffff;
  --foreground: #000000;
  --accent: #D8000C;
}

/* CODE BLOCK */
.light {
  .astro-code,
  .astro-code span {
    color: var(--shiki-light) !important;
    background-color: var(--shiki-light-bg) !important;
    /* font-style: var(--shiki-light-font-style) !important;
    font-weight: var(--shiki-light-font-weight) !important;
    text-decoration: var(--shiki-light-text-decoration) !important; */
  }
}
.dark {
  .astro-code,
  .astro-code span {
    color: var(--shiki-dark) !important;
    background-color: var(--shiki-dark-bg) !important;
    /* font-style: var(--shiki-dark-font-style) !important;
    font-weight: var(--shiki-dark-font-weight) !important;
    text-decoration: var(--shiki-dark-text-decoration) !important; */
  }
}

/* INIT TAILWIND THEME */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-accent: var(--accent);

  --font-sans: "Space Grotesk Variable";
  --font-mono: "IBM Plex Mono";
}

/* BASE STYLING */
@layer base {
  /* layouts */
  html {
    @apply bg-background text-foreground selection:bg-accent selection:text-background overflow-y-scroll scroll-smooth antialiased;
  }
  body {
    --z-old: 1;
    --z-new: 2;
    background-color: var(--background);
    background-image: radial-gradient(var(--foreground) 1px, transparent 1px);
    background-size: 30px 30px;
    background-position: 0 0;
  }
  .dark {
    --z-old: 2;
    --z-new: 1;
  }

  button:not(:disabled) {
    cursor: pointer;
  }
}

/* SCROLLBAR STYLING */
@layer base {
  /* Custom P5R Scrollbar */
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    background-color: #000000;
  }

  ::-webkit-scrollbar-thumb {
    background-color: #D8000C;
    border: 2px solid #000000; /* Create a 'floating' look */
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: #ff0015;
  }

  /* P5R Selection Style */
  ::selection {
    background-color: #D8000C;
    color: #ffffff;
     text-shadow: 1px 1px 0 #000;
  }
}

/* THEME TRANSITION */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

::view-transition-old(root) {
  z-index: var(--z-old);
}
::view-transition-new(root) {
  z-index: var(--z-new);
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

.animate-blink {
  animation: blink 1s step-end infinite;
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fade-in-up {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-fade-in {
  animation: fade-in 1s ease-out forwards;
}

.animate-fade-in-up {
  animation: fade-in-up 1s ease-out 0.3s forwards;
  opacity: 0; /* consistent start state */
}
